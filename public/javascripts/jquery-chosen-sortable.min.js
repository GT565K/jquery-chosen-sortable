(function(a){var c;c=function(){$form_field=a(this).closest(".chzn-container").siblings("select");$options=a("option",$form_field);$clone=$form_field.clone();$clone.children().remove();a(this).find('li[class!="search-field"]').each(function(){var b=RegExp(/chzn_c_(\d*)/).exec(a(this).attr("id"));b[1]?$options.eq(parseInt(b[1],10)).appendTo($clone):console.warn("Cannot create index from "+a(this).attr("id"))});$options.not(":selected").appendTo($clone);$form_field.replaceWith($clone);console.info("List sorted")};
a.fn.chosenSortable=function(){$this=this.filter(".chzn-sortable");$this.each(function(){$select=a(this);$chosen=$select.siblings(".chzn-container");$chosen.find(".chzn-choices").bind("mousedown",function(b){a(b.target).is("span")&&b.stopPropagation()});$chosen.find(".chzn-choices").sortable({placeholder:"ui-state-highlight",items:"li:not(.search-field)",update:c,tolerance:"pointer"})})}})(jQuery);
